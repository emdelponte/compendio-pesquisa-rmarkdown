<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Elaborando um Compêndio de Pesquisa em RMarkdown</title>
  <meta name="description" content="Aprenda como tornar sua pesquisa mais facilmente reproduzível elaborando o compêndio de pesquisa no ambiente RStudio.">
  <meta name="generator" content="bookdown <!--bookdown:version--> and GitBook 2.6.7">

  <meta property="og:title" content="Elaborando um Compêndio de Pesquisa em RMarkdown" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Aprenda como tornar sua pesquisa mais facilmente reproduzível elaborando o compêndio de pesquisa no ambiente RStudio." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Elaborando um Compêndio de Pesquisa em RMarkdown" />
  
  <meta name="twitter:description" content="Aprenda como tornar sua pesquisa mais facilmente reproduzível elaborando o compêndio de pesquisa no ambiente RStudio." />
  

<meta name="author" content="Emerson M. Del Ponte">


<meta name="date" content="2017-11-15">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



<!--bookdown:title:start-->
<div id="header">
<h1 class="title">Elaborando um Compêndio de Pesquisa em RMarkdown</h1>
<h4 class="author"><em>Emerson M. Del Ponte</em></h4>
<h4 class="date"><em>2017-11-15</em></h4>
</div>
<!--bookdown:title:end-->

<!--bookdown:toc:start-->
  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">
<!--bookdown:toc2:start-->
<ul>
<li><a href="#slides-do-autor">Slides do autor</a></li>
<li><a href="#prefacio">Prefácio</a><ul>
<li><a href="#ambiente-computacional">Ambiente computacional</a></li>
<li><a href="#agradecimentos">Agradecimentos</a></li>
</ul></li>
<li><a href="#intro"><span class="toc-section-number">1</span> Requisitos básicos</a><ul>
<li><a href="#uma-nova-rotina"><span class="toc-section-number">1.1</span> Uma nova rotina</a></li>
<li><a href="#ferramentas-computacionais"><span class="toc-section-number">1.2</span> Ferramentas computacionais</a></li>
</ul></li>
<li><a href="#compedio-de-pesquisa"><span class="toc-section-number">2</span> Compêdio de pesquisa</a><ul>
<li><a href="#definicao"><span class="toc-section-number">2.1</span> Definição</a></li>
<li><a href="#dados"><span class="toc-section-number">2.2</span> Dados</a></li>
<li><a href="#formato"><span class="toc-section-number">2.3</span> Formato</a></li>
<li><a href="#planilhas-eletronicas"><span class="toc-section-number">2.4</span> Planilhas eletronicas</a></li>
<li><a href="#nomes"><span class="toc-section-number">2.5</span> Nomes</a></li>
<li><a href="#copias"><span class="toc-section-number">2.6</span> Copias</a></li>
<li><a href="#formato-1"><span class="toc-section-number">2.7</span> Formato</a></li>
<li><a href="#deposito"><span class="toc-section-number">2.8</span> Depósito</a></li>
<li><a href="#licenca"><span class="toc-section-number">2.9</span> Licença</a></li>
</ul></li>
</ul>
<!--bookdown:toc2:end-->
      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Elaborando um Compêndio de Pesquisa em RMarkdown</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:toc:end-->
<!--bookdown:body:start-->
<div id="slides-do-autor" class="section level2 unnumbered">
<h2>Slides do autor</h2>
<p>Esta material foi elaborado para um minicurso de 8h oferecido aos estudantes do Programa de Pós-graduação em Fitopatologia dia 13 de novembro de 2017.</p>
<iframe frameborder="0" src="https://docs.google.com/presentation/d/e/2PACX-1vQkZr6Oy04ZxpgWRYrwfFxZoaoq66-Cx920XvHMycFnPlRbUlARnadF6w7Nh4RcrSPYWkwFFsqgPFUu/embed?start=false&amp;loop=false&amp;delayms=3000" frameborder="0" width="480" height="390" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true">
</iframe>
</div>
<div id="prefacio" class="section level1 unnumbered">
<h1>Prefácio</h1>
<p><strong>Pesquisa Reproduzível</strong> (sin. reprodutível) é um tema da ciencia que tem despertado muito a atenção de pesquisadores, agências de fomento e a mídia acadêmica nos últimos anos. São frequentes os relatos de que um estudo que foi repetido gerou resultados diferentes ou mesmo discortantes de um estudo anterior. Os próprios pesquisadores tem se manifestado com grande preocupação com uma alegada “crise de reprodutibilidade” na ciência.</p>
<p>As possíveis causas e algumas soluções para minimizar o problema vem sendo discutidas e algumas ações implementadas. É importante que o estudante e pesquisador em geral tenha conhecimento sobre a correta definição dos termos para melhorar a comunicação. Reprodutibilidade tem diferentes significados dependendo do contexto. Aqui, definimos como:</p>
<blockquote>
<p>Capacidade de um pesquisador em chegar ao resultado de um estudo prévio usando os mesmos materiais (dados) e métodos (estatística) da pesquisa original.</p>
</blockquote>
<p>Portanto, é condição <em>sine qua non</em> que o pesquisador independente tenha:</p>
<ul>
<li>acesso aos dados</li>
<li>saiba detalhes de como a análise foi feita</li>
</ul>
<p>Na mídia, os resultados discordantes de estudos se refere, na verdade, à <strong>replicabilidade</strong>, ou a <strong>reprodutibilidade inferencial</strong>, segundo alguns autores. Em ciência, parte-se do princípio de que os resultados de uma pesquisa publicados em revistas com corpo editorial tenham sido obtidos segundo os princípios que regem os métodos e a ética científica. No entanto, os editores e revisores, quase sempre, não tem como verificar se todos os passos do trabalho, especialmente a análise dos dados, foram executados corretamente, uma vez que avaliam apenas um produto - o artigo científico.</p>
<p>Um artigo científico é escrito e submetido para publicação segundo convenções da academia que definem o conteúdo mínimo para que o trabalho seja avaliado pelos pares. Normalmente esse conteúdo consiste no texto, gráficos e tabelas e, idealmente, um material suplementar (o que ainda parece ser desconhecido para muitos pesquisadores).</p>
<div id="ambiente-computacional" class="section level2 unnumbered">
<h2>Ambiente computacional</h2>
<p>Um cientista que objetiva que sua pesquisa seja reproduzida por outros grupos deve se preocupar em disponibilizar também os dados e os procedimentos de análise para que possam ser inspecionados e reutilizados. Esse trabalho também exige procedimentos padronizados de conteúdo e formato de arquivos (dados, relatórios, imagens, etc.) os quais devem ser comentados de maneira clara para que outros pesquisadores possam reproduzir, melhorar ou expandir uma análise estatística, reutilizar os dados em outro trabalho ou combinar com outros conjuntos. Uma condição para que isso ocorra é que os pesquisadores usem um mesmo ambiente computacional que seja preferenciamente de código aberto. Dentre os ambientes, nossa preferência é pelo R e conjunto de ferramentas integradas no ambiente RStudio.</p>
<p>Nesse livro, o estudante ou pesquisador interessado aprenderá as boas práticas de pesquisa reproduzível que devem ser incorporadas na rotina de trabalho. Com hábitos simples, persistência, sistemática e um pouco de dedicação na linguagem R, o pesquisador moderno estará adotando práticas que contribuirão para a maior transparência na ciência.</p>
</div>
<div id="agradecimentos" class="section level2 unnumbered">
<h2>Agradecimentos</h2>
<!--chapter:end:index.Rmd-->
</div>
</div>
<div id="intro" class="section level1">
<h1><span class="header-section-number">1</span> Requisitos básicos</h1>
<div id="uma-nova-rotina" class="section level2">
<h2><span class="header-section-number">1.1</span> Uma nova rotina</h2>
<p>Para um estudante ou cientista que está iniciando um projeto é importante que as boas práticas de PR sejam incorporadas no seu dia a dia, e que sejam implementadas desde a concepção e o planejamento do mesmo.</p>
<p>São atividades que dependem essencialmente de uma grande capacidade organizacional e admistrativa de tempo e esforço no planejamento, condução e documentação de tudo que é feito. É preciso seguir rotinas e gerar documentos que seguem certas normas de padronização, especialmente se o trabalho é feito de forma colaborativa. Analogamente, é como escrever e formatar um artigo científico que deve ser estruturado e apresentado segundo determinadas normas. Aqui, o produto gerado não é somente o documento do manuscrito e um punhado de gráficos, mas sim tudo que foi gerado durante a pesquisa e que precisa estar bem organizado e formatado para uso posterior e publicação/divulgação. Para obter sucesso na implementação de uma PR, é preciso:</p>
<ul>
<li>Ser diligente e sistemático</li>
<li>Aprender novas ferramentas (computacionais)</li>
<li>Aprender a organizar arquivos diversos</li>
<li>Documentar todas as etapas do trabalho</li>
</ul>
<p>No dia a dia, os pesquisadores não sobrevivem se os computadores como ferramenta central de trabalho. Atualmente, não é preciso ser um “nerd” para que se possa utilizar com bastante eficiência os computadores que estão hoje cada vez mais portáteis e de fácil uso, para ser eficiente e produtivo no trabalho. Em algumas áreas da pesquisa é necessário maior envolvimento com linguagens de programação, programas específicos que exigem um esforço de aprendizado.</p>
<p>No entanto, na PR o mais importante e desafior é certamente aprender a sistemática de trabalho do que ser um expert em programação - mas é necessário sim aprender alguma linguagem de programação (R ou Python) para implementar as práticas de PR. Durante nossa formação acadêmica não recebemos nenhum ou muito pouco treinamento em como preparar e organizar de maneira apropriadas os arquivos diversos incluindo dados, códigos, gráficos, tabelas, manuscrito, figuras, etc.</p>
<p>Apender uma rotina de PR é fundamental para:</p>
<ol style="list-style-type: decimal">
<li>Facilitar o nosso próprio trabalho de análise-reanálise</li>
<li>Permitir o uso dos dados e códigos por outras pessoas (seu orientador!)</li>
<li>Compartilhar a “pipeline” da análise, ou seja, explicar o que, por que e como foi feito</li>
</ol>
<p>Quando não somos treinados a trabalhar seguindo as boas práticas de PR, é muito comum: criar um número grande arquivos e versões desnecessárias que dificultam o processo; gerar inconsistência e redundância nas análises; não ter um controle adequado de versões e dificuldade quando é solicitado o compartilhamento do trabalhos - ou seja, levará um tempo grande só para organizar a “bagunça” que foi gerada durante o processo e que só o próprio pesquisador entende, quando entende! Práticas que deveriam ser simples como refazer um gráfico ou estatísticas após receber os pareceres de revisores se tornam um verdadeiro pesadelo para alguns pesquisadores, o que contribui para o atraso na publicação de artigos.</p>
</div>
<div id="ferramentas-computacionais" class="section level2">
<h2><span class="header-section-number">1.2</span> Ferramentas computacionais</h2>
<p>Segundo <a href="https://yihui.name">Yihui Xie</a>, um dos principais desenvolvedores do R da empresa RStudio de programas (ex. knitr, rMarkdown, bookdown, etc) que visam facilitar a pesquisa reproduzível:</p>
<blockquote>
<p>The final product of research is not only the paper itself, but also the full computation environment used to produce the results in the paper such as the code and data necessary for reproduction of the results and building upon the research (Xie et al. 2014).</p>
</blockquote>
<p>Dentre os ambientes de programação disponíveis, as ferramentas mais usadas para implementar uma PR de maneira efetiva (dados, análises e saídas são combinados, idealmente, em um único ambiente de programação), são baseados em duas linguagens principais: Python e R, cujos produtos principais são Jupyter Notebooks e RMarkdown, respectivamente. Esses pacotes ou rotinas facilitam sobremaneira a documentação e reprodução das análises bem como aceleram a obtenção dos resultados e visualizações assim que novos dados forem adicionados ou reanálises são necessárias.</p>
<p>Além de aprender a utilizar esses programas, é importante que o pesquisador aprenda como usar efetivamente planilhas eletrônicas para reunir e organizar os dados que serão usados na pesquisa. Por princípios, as planilhas eletrônicas como Excel, Libre Office Calc, Numbers e Google Sheets são usadas apenas para armazenar os dados e não para processar, transformar, visualizar ou fazer sumários prévios. O motivo é muito simples: esses procedimentos todos feitos com movimentos de mouse não são reproduzíveis! além disso, na PR os dados originais levantados ou recebidos devem ser mantidos na sua forma original. Caso seja modificado de forma que é mais fácil fazer em uma planilha como renomear variáveis, é importante manter sempre uma planilha não manipulada como referência.</p>
<!--chapter:end:01-requisitos.Rmd-->
</div>
</div>
<div id="compedio-de-pesquisa" class="section level1">
<h1><span class="header-section-number">2</span> Compêdio de pesquisa</h1>
<div id="definicao" class="section level2">
<h2><span class="header-section-number">2.1</span> Definição</h2>
<p>Um compêndio (do inglês, compendium) pode ser <a href="https://www.priberam.pt/dlpo/compêndio">definido</a> como uma compilação em que se encontra resumido o mais indispensável de um estudo. O termo “research compendium” foi cunhado em meados dos anos 2000 em uma publicação sobre pesquisa reproduzível com enfoque em análise estatística.</p>
<blockquote>
<p>We introduce the concept of a compendium as both a container for the different elements that make up the document and its computations (i.e. text, code, data, …), and as a means for distributing, managing and updating the collection.<span class="citation">(Robert Gentleman, Department of Biostatistics, Harvard University, Duncan Temple Lang, Department of Statistics, University of California, Davis, and Authors <a href="#ref-Robert_Gentleman_Department_of_Biostatistics_Harvard_University2004-qt">2004</a>)</span></p>
</blockquote>
<p>Na visão dos autores, o compêndio tem como base um ou mais documentos dinâmicos, a partir dos quais são gerados os demais documentos estáticos como um PDF a partir de um arquivo TEX (há mais de 10 anos o TEX era o equivalente ao Markdown). Também, esses documentos dinâmicos (e seus elementos de texto, código e dados) devem ser facilmente extraídos e processados de diferentes maneiras pelo autor e pelos leitores.</p>
<p>Portanto, é importante que um compêndio da pesquisa seja desenvolvido de maneira padronizada para que outros pesquisadores, de forma facilitada, possam inspecionar, reproduzir e ampliar a pesquisa. Os princípios básicos para a confecção de um compêndio de pesquisa são:</p>
<ol style="list-style-type: decimal">
<li>Organização segundo a convenção criada pela academia</li>
<li>Separação clara de dados, códigos e saídas</li>
<li>Especificação do ambiente computacional</li>
<li>Documentação detalhada de cada elemento e rotina</li>
</ol>
<p>Um dos objetivo de se criar um compêndio de pesquisa é, em primeira instância, facilitar o trabalho do pesquisador e permitir que ele distribua os produtos gerados pela pesquisa de uma maneira mais ampla possível, visando a dar visibilidade ao trabalho. Além disso, a eficiência do trabalho é aumentada com a incorporação de uma sistemática que pode ser replicada em outros projetos, dimuindo assim os custos operacionais e acelerando o trabalho. Tem se discutido que publicações que são acompanhas de um compêndio tendem a receber maior atenção, credibilidade e citações uma vez que o compendio é um tipo de publicação por si só. Imagine o quanto pode ser útil tornar o compêndio público antes da submissão do trabalho de forma que editores e revisores possam revisar os dados e os métodos (estatísticos principalmente) que foram utilizados, entender as decisões tomadas no processo analítico e os resultados obticos. Alem disso, uma vez que o compêndio é publicado, os autores poderão receber comentários dos pares e dos revisores para melhorar o trabalho como um todo.</p>
<p>Antes de falarmos sobre como organizar o compêndio de pesquisa, veremos aspectos e cuidados específicos de organização dos dados.</p>
</div>
<div id="dados" class="section level2">
<h2><span class="header-section-number">2.2</span> Dados</h2>
<p>Segundo Wilkinson et al. (2016), os dados devem ser organizados segundo o princípio <strong>FAIR</strong> = <strong>F</strong>indable, <strong>A</strong>ccessible, <strong>I</strong>nteroperable and <strong>R</strong>eusable.</p>
<p>Compartilhar os dados (o que pode ser aplicado também aos códigos, significa facilitar a distribuição e o acesso pela comunidade científica, ou seja que eles sejam facilmente <strong>encontrados</strong> e <strong>acessados</strong>. Qual a vantagem disso? reproduzir os resultados originais e pertimitir que novas análises sejam feitas usando os mesmos dados, ou mesmo combinando com outros conjuntos de dados (metanálise). É importante que os dados estejam em um formato que seja de fácil entendimento para facilitar o uso. Três boas práticas são recomendadas:</p>
<ol style="list-style-type: decimal">
<li>Documentação: dados bem documentados e descritos (metadados) são mais fáceis de entender</li>
<li>Formataçao: dados formatados apropriadamente podem ser usados em diversos programas de computador</li>
<li>Distribuição: depósito em repositórios conhecidos e com licença aberta facilita que sejam encontrados e reusados</li>
</ol>
<p>Práticas de compartilhamento de dados talvez ainda não sejam valorizadas pela maioria dos pesquisadores, haja visto que a maioria dos trabalhos ainda não disponibilizam os dados originais. As vantagens óbvias seria a reprodução e possível melhorias na análise, o reuso dos dados em metanálises para chegar a conclusões gerais e gerar novo conhecimento que só é possível com dados compartilhados em larga escala. Mas por que ainda os pesquisadores não compartilham os dados? os motivos podem ser ligados ao receio de perder uma competição por publicações ou mesmo a falta de conhecimento sobre como fazer o compartilhamento. A percepção que domina é que organizar e depositar dados é difícil tecnicamente ou leva muito tempo,</p>
</div>
<div id="formato" class="section level2">
<h2><span class="header-section-number">2.3</span> Formato</h2>
</div>
<div id="planilhas-eletronicas" class="section level2">
<h2><span class="header-section-number">2.4</span> Planilhas eletronicas</h2>
</div>
<div id="nomes" class="section level2">
<h2><span class="header-section-number">2.5</span> Nomes</h2>
</div>
<div id="copias" class="section level2">
<h2><span class="header-section-number">2.6</span> Copias</h2>
</div>
<div id="formato-1" class="section level2">
<h2><span class="header-section-number">2.7</span> Formato</h2>
</div>
<div id="deposito" class="section level2">
<h2><span class="header-section-number">2.8</span> Depósito</h2>
</div>
<div id="licenca" class="section level2">
<h2><span class="header-section-number">2.9</span> Licença</h2>
<!--chapter:end:02-compendio.Rmd-->
<div id="refs" class="references">
<div id="ref-Robert_Gentleman_Department_of_Biostatistics_Harvard_University2004-qt">
<p>Robert Gentleman, Department of Biostatistics, Harvard University, Duncan Temple Lang, Department of Statistics, University of California, Davis, and Authors. 2004. “Statistical Analyses and Reproducible Research,” Bioconductor project working papers,. bepress.</p>
</div>
</div>
</div>
</div>
<!--bookdown:body:end-->
            </section>

          </div>
        </div>
      </div>
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
    </div>
  </div>
<!--bookdown:config-->

</body>

</html>
